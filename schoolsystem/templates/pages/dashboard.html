{% extends 'include/layout.html' %} {% load static %} {% block content %}
<div class="container-fluid">
  <h1 class="mt-4">Student Dashboard</h1>
  <p>
    Welcome back! Here's an overview of your recent progress and activities.
  </p>

  <!-- Responsive Cards Section -->
  <div class="row mb-4">
    <div class="col-md-4 mb-3">
      <div class="card text-white bg-primary h-100">
        <div class="card-body">
          <h5 class="card-title">Total Students</h5>
          <p class="card-text fs-1">{{ total_students }}</p>
          <!-- Updated to display total students -->
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card text-white bg-success h-100">
        <div class="card-body">
          <h5 class="card-title">Completed Assignments</h5>
          <p class="card-text fs-1">12</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card text-white bg-danger h-100">
        <div class="card-body">
          <h5 class="card-title">Pending Assignments</h5>
          <p class="card-text fs-1">3</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Graph Section -->
  <div class="row mb-4">
    <div class="col-lg-8">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">Progress Overview</h5>
          <!-- Add your graph here -->
          <canvas id="progressChart" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">Recent Grades</h5>
          <!-- Grade Pie Chart -->
          <canvas id="gradeChart" width="400" height="400"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="row mb-4">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Recent Activities</h5>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Course</th>
                <th>Assignment</th>
                <th>Status</th>
                <th>Due Date</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Mathematics</td>
                <td>Algebra Homework</td>
                <td><span class="badge bg-success">Completed</span></td>
                <td>Oct 1, 2024</td>
              </tr>
              <tr>
                <td>Science</td>
                <td>Lab Report</td>
                <td><span class="badge bg-danger">Pending</span></td>
                <td>Oct 3, 2024</td>
              </tr>
              <tr>
                <td>History</td>
                <td>Essay Submission</td>
                <td><span class="badge bg-warning">Due Soon</span></td>
                <td>Oct 4, 2024</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Include Chart.js for graph rendering -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Progress Chart
  var ctx = document.getElementById("progressChart").getContext("2d");
  var progressChart = new Chart(ctx, {
    type: "line",
    data: {
      labels: ["Week 1", "Week 2", "Week 3", "Week 4"],
      datasets: [
        {
          label: "Progress",
          data: [75, 85, 90, 95],
          borderColor: "rgba(75, 192, 192, 1)",
          borderWidth: 2,
          fill: false,
        },
      ],
    },
    options: {
      responsive: true,
    },
  });

  // Grade Pie Chart
  var ctx2 = document.getElementById("gradeChart").getContext("2d");
  var gradeChart = new Chart(ctx2, {
    type: "pie",
    data: {
      labels: ["A", "B", "C", "D"],
      datasets: [
        {
          data: [45, 25, 15, 15],
          backgroundColor: ["#4CAF50", "#2196F3", "#FFC107", "#F44336"],
        },
      ],
    },
    options: {
      responsive: true,
    },
  });
</script>
{% endblock %}
